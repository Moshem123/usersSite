"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}function _defineProperty(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}$(document).ready(function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function t(){$("#clearBtn").on("click",function(){$("#consoleLog").html("")})}function e(){c||$("#inputHosts, #inputHostsUpdate").html(""),r=JSON.parse(JSON.stringify(r).replace(/.tradair.com/g,"")),$("#inputHosts, #inputHostsUpdate").select2({data:r}),c=!1}var d={qa:{data:[{id:"4886144f-77af-11e2-a9c9-06a92dde9673",text:"leumi-uat-ng.tradair.com"},{id:"4886144f-77af-11e2-a9c9-06a92dde9673",text:"banregio-demo.tradair.com"},{id:"fc8c4cb5-412a-11e7-9fc6-120bf7a75c96",text:"banregio-uat.tradair.com"},{id:"9bebb9e9-54d1-11e7-a1b0-0600936cad3d",text:"10.2.1.9"},{id:"64e12c3a-558f-11e7-b045-06ad0fe21acd",text:"local-danielm.tradair.com"},{id:"81835e57-6707-11e7-bf65-021cad39bb41",text:"intqa3.tradair.com"},{id:"fbd4cb41-6bc3-11e7-ad0b-0600936cad3d",text:"tst-09.tradair.com"},{id:"839b204a-7072-11e7-8b14-023f5fac116f",text:"qa201.tradair.com"},{id:"20fbc22d-72a3-11e7-a1f9-0635d542092a",text:"qa100.tradair.com"},{id:"a4cac5e8-54f8-11e7-8872-0645f8b4707f",text:"qa-20.tradair.com"},{id:"72fd5c16-4ee3-11e5-87dc-02c7032ce083",text:"tst-08.tradair.com"},{id:"5cc83824-8276-11e7-a1f9-0635d542092a",text:"qa203.tradair.com"},{id:"8d8ec92f-8574-11e7-a1f9-0635d542092a",text:"qa-30.tradair.com"},{id:"69986eae-86fd-11e7-a1f9-0635d542092a",text:"quality.tradair.com"},{id:"f152ad9a-0453-11e5-8f2f-023de5bb588f",text:"qa-10.tradair.com"},{id:"e1ddc956-8c07-11e7-a3db-06f413a47874",text:"intqa6.tradair.com"}],url:"10.2.14.27"},uat:{data:[{id:"b5a6c800-4152-11e7-9fc6-120bf7a75c96",text:"banregio-uat.tradair.com"},{id:"10a0054a-3164-11e6-a8bb-06bc743b611f",text:"divisa-uat.tradair.com"},{id:"8eb1892e-46c2-11e6-83e9-068ff50acf03",text:"gkfx2-uat.tradair.com"},{id:"4886144f-77af-11e2-a9c9-06a92dde9673",text:"leumi-uat-ng.tradair.com"},{id:"cf3f5ef9-5a8a-11e7-8598-02a0233ced2b",text:"uob-uat.tradair.com"},{id:"b2b54900-5657-11e7-b6f5-12b1812eee4a",text:"bgc-uat.tradair.com"},{id:"3976a529-67a6-11e7-906c-02737568e54b",text:"tnet-test.tradair.com"},{id:"42775824-708d-11e4-be4f-067be37c0126",text:"sucden-uat-ng.tradair.com"},{id:"42775824-708d-11e4-be4f-067be37c0126",text:"mbank-uat.tradair.com"},{id:"89792949-f48a-11e4-ad2d-0669a9c90eca",text:"tpsd-uat.tradair.com"},{id:"f07f234a-5a74-11e3-812b-02abf13df591",text:"kwt-uat.tradair.com"},{id:"0ae19e42-5fe2-11e6-b691-1250e47f71fd",text:"icap-uat.tradair.com"},{id:"7179b06a-8276-11e7-9f30-005056a04200",text:"ny2-edge-tnet.tradair.com"},{id:"5605593f-7686-11e7-9356-005056a04200",text:"ny2-fcstone-tnet.tradair.com"},{id:"c08bd897-e1d4-11e4-b79c-06964b91c957",text:"idb-uat.tradair.com"},{id:"f152ad9a-0453-11e5-8f2f-023de5bb588f",text:"banorte-uat.tradair.com"},{id:"f139f8e4-ff84-11e4-8467-0280310e4df1",text:"saxo-uat.tradair.com"},{id:"4dc91006-33c3-11e6-bb0b-028b135bc723",text:"hirose-uat.tradair.com"},{id:"cba88e2b-76c0-11e7-8598-02a0233ced2b",text:"eis-uat.tradair.com"},{id:"5e753a23-4da6-11e6-86a1-065dc1d4b681",text:"yapi-uat.tradair.com"},{id:"2d4627a9-5210-11e4-a72c-02710b6f6675",text:"yapi-desk-uat.tradair.com"},{id:"f152ad9a-0453-11e5-8f2f-023de5bb588f",text:"edgew-us-uat.tradair.com"}],url:"10.2.1.28"},production:{data:[{id:"4886144f-77af-11e2-a9c9-06a92dde9673",text:"leumi.tradair.com"},{id:"3f1d534d-f909-11e6-b5f7-122d74620b50",text:"banregio.tradair.com"},{id:"8d747ba5-5592-11e7-8807-12d0f85b964a",text:"bgc.tradair.com"},{id:"7f939751-6208-11e6-a950-069c0b225545",text:"divisa.tradair.com"},{id:"13faa16e-5192-11e6-b3ea-061752bd2719",text:"uob.tradair.com"},{id:"09a4890a-3a08-11e7-8bdc-02f878f9766f",text:"atri3.tradair.com"},{id:"dc67067f-f745-11e5-b9b6-065249045809",text:"gkfx.tradair.com"},{id:"42775824-708d-11e4-be4f-067be37c0126",text:"sucden.tradair.com"},{id:"cf18e442-4836-11e6-9cee-0265cbaf0b4f",text:"hirose.tradair.com"},{id:"9a6c474f-622e-11e6-8387-128abbcced61",text:"icap.tradair.com"},{id:"8a6b6455-8038-11e7-ab26-125247e6b12c",text:"chappy.tradair.com"},{id:"42775824-708d-11e4-be4f-067be37c0126",text:"mbank.tradair.com"},{id:"f152ad9a-0453-11e5-8f2f-023de5bb588f",text:"bnrt.tradair.com"},{id:"41215990-c69c-11e5-95bb-025e0e0158fb",text:"saxo.tradair.com"},{id:"2ca4d5cd-76d1-11e7-a55b-063beea02467",text:"eis.tradair.com"},{id:"f152ad9a-0453-11e5-8f2f-023de5bb588f",text:"edgew.tradair.com"},{id:"42775824-708d-11e4-be4f-067be37c0126",text:"barak.tradair.com"}],url:"10.6.0.251"}},r=[],i=void 0,c=!0,o=[],n="/proxy";t(),$("#inputHosts, #inputHostsUpdate").select2(),$("input[name='optEnv']").change(function(){i=$(this).attr("data-env"),r=d[i].data,e()}),$('*[data-action="selectAll"]').on("click",function(){$("#inputHosts, #inputHostsUpdate").val(r.map(function(a){return a.id})).trigger("change")}),$('*[data-action="clearHosts"]').on("click",function(){$("#inputHosts, #inputHostsUpdate").val(null).trigger("change")}),$("#userForm").submit(function(e){function c(a){function e(){$(".consoleLog").show(),b[m].data.payload.path=b[m].path,b[m].data=JSON.stringify(b[m].data),$.ajax({type:"POST",url:n,contentType:"application/json",data:b[m].data}).always(function(d){var r=u.header.ownerName+" - "+b[m].path+" - "+JSON.parse(b[m].data).payload.email+" - "+JSON.parse(d).payload+"<br />";$("#consoleLog").append(r),t(),"ok"===JSON.parse(d).payload?(o.push(u.header.ownerName),++m,e()):(++l,c(a))})}if(l>=a.length)f();else{u.payload.orgId=a[l];var d="";r.map(function(a){a.id===u.payload.orgId&&(d=a.text)}),u.header.ownerName=d+".tradair.com";var i=jQuery.extend(!0,{},u);b[0].data=i;var s=jQuery.extend(!0,{},u);s.payload.roles="4,2,30",s.payload.password=null,s.payload.salt="",b[1].data=s;var m=0;e()}}function f(){$.ajax({url:"http://jenkins.tradair.com:8080/job/syncNewUsers/buildWithParameters",type:"POST",dataType:"text",data:{delay:"0sec",token:"yahalimedved",ENVIRONMENT:i,USERNAME:$("#inputUserName").val(),TOHOST:o.toString()},beforeSend:function(a){a.setRequestHeader("Authorization","Basic "+btoa("remote:Panda230"))}}).done(function(){console.log("success")}).fail(function(){console.log("error")})}e.preventDefault();var u={header:{ownerName:""},payload:{email:$("#inputEmail").val(),userName:$("#inputUserName").val(),password:$("#inputPassword").val(),salt:"e8455142c8e110be40450e9bfe4d5dbe1104a491dbdd563d",firstName:$("#inputFirstName").val(),lastName:$("#inputLastName").val(),orgId:"",workNumber:$("#inputTelephone").val(),mobileNumber:$("#inputTelephone").val(),enabled:!0,locked:!1,loginAttempts:null,shortName:null,createDate:null,updateDate:null,screenWidth:null,roles:null,userId:a(),notifications:null,showOnlyOwnData:!1,desk:null,region:null,defaultOrderTypeTimeInForce:null,defaultOrderTypeTimeInForceQL:null,quickLimitShortcutCcPairStr:null,positionFilterTypeEnum:null,is2fa:!1,path:"",url:d[i].url}},b=[{path:"v2/user/addNewUser",data:{}},{path:"v2/user/updateUser",data:{}}],l=0;c($("#inputHosts, #inputHostsUpdate").val())})});